(function(){var t,e,i,s,a,n,h,r,o,u,l,p,d,c,D,g,w,f,y,v,m,M,b,k=function(t,e){return function(){return t.apply(e,arguments)}};t=jQuery,b={startDate:null,endDate:null,dowNames:["sun","mon","tue","wed","thu","fri","sat"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],firstDayOfTheWeekIndex:0,autoFillToday:!1,alwaysVisible:!1,autoHideAfterClick:!1,parseDate:null,formatDate:!0,onChange:null},n="lw-dp",a="lw-dp-active-day",r="lw-dp-dows",o="lw-dp-dows-last-column",u="lw-dp-firstweek",l="lw-dp-hidden",p="lw-dp-lastweek",d="lw-dp-month",c="lw-dp-neighbour-month-day",D="lw-dp-next",g="lw-dp-out-of-interval",w="lw-dp-previous",f="lw-dp-today",y="lw-dp-toolbar",v="lw-dp-week",m="lw-dp-week-last-column",M="lw-dp-weekend",h="lw-datepicker",i=function(t,e){return t.getFullYear()<e.getFullYear()?-1:t.getFullYear()>e.getFullYear()?1:t.getMonth()<e.getMonth()?-1:t.getMonth()>e.getMonth()?1:t.getDate()<e.getDate()?-1:t.getDate()>e.getDate()?1:0},s=function(t){return"[object Date]"!==Object.prototype.toString.call(t)?!1:!isNaN(t.getTime())},e=function(){function e(e,i){this.destroy=k(this.destroy,this),this._handleKeyDown=k(this._handleKeyDown,this),this.showNextMonth=k(this.showNextMonth,this),this.showPreviousMonth=k(this.showPreviousMonth,this),this.show=k(this.show,this),this.hide=k(this.hide,this),this._isDateInsidePeriod=k(this._isDateInsidePeriod,this),this.setCurrentDate=k(this.setCurrentDate,this),this.setActiveDate=k(this.setActiveDate,this),this._updateMonth=k(this._updateMonth,this),this._getDateFromElement=k(this._getDateFromElement,this),this._onChange=k(this._onChange,this),this._onClick=k(this._onClick,this),this.input=e,this.input.bind("focus",this.show),this.input.bind("blur",this.hide),this.input.bind("keydown",this._handleKeyDown),this.input.bind("change",this._onChange),this.input.bind("click",this._onClick),this.isIE=t.browser.msie&&parseInt(t.browser.version,10)<=8,this.input.data(h,this),this.settings={startDate:i.startDate,endDate:i.endDate,dowNames:i.dowNames,monthNames:i.monthNames,firstDayOfTheWeekIndex:i.firstDayOfTheWeekIndex,autoFillToday:i.autoFillToday,alwaysVisible:i.alwaysVisible,autoHideAfterClick:i.autoHideAfterClick,parseDate:i.parseDate,formatDate:i.formatDate,onChange:i.onChange},this.todayDate=new Date,this.currentDate=this.settings.startDate||new Date,this._createDatepicker(),this.settings.autoFillToday&&this._isDateInsidePeriod(new Date)&&(this.activeDate=new Date),this.setActiveDate(this._parseDate(this.input.val())),this.settings.alwaysVisible?this.wrapper.insertAfter(this.input):this.wrapper.appendTo(document.body),this.margin=parseInt(this.wrapper.css("margin-top"),10),this.wrapper.css("margin",0),this._bindEvents(),this.settings.alwaysVisible&&this.updatePosition(),this.updateInput(),this._updateMonth(),this.hide()}return e.name="LightweightDatepicker",e.prototype.canShowPreviousMonth=!0,e.prototype.canShowNextMonth=!0,e.prototype.shouldHide=!0,e.prototype._onClick=function(){return t("."+n).has(this.wrapper).length?void 0:this.show()},e.prototype._onChange=function(){return this.updatingInput?void 0:this.setActiveDate(this._parseDate(this.input.val()))},e.prototype._createDatepicker=function(){return this.wrapper=t("<div class="+n+"/>"),this.toolbar=t("<div class="+y+"/>").appendTo(this.wrapper),this.previous=t("<div class="+w+"/>").appendTo(this.toolbar),this.next=t("<div class="+D+"/>").appendTo(this.toolbar),this.month=t("<div class="+d+"/>").appendTo(this.toolbar),this._renderDows().appendTo(this.wrapper),this.days=t("<div/>").appendTo(this.wrapper)},e.prototype._bindEvents=function(){var e,i=this;return this.wrapper.bind("mousedown touchstart",function(t){return t.preventDefault(),t.stopPropagation(),i.isIE?i.shouldHide=!1:void 0}),e=this.isIE?"mousedown":"click touchstart",this.toolbar.delegate("."+D,e,this.showNextMonth),this.toolbar.delegate("."+w,e,this.showPreviousMonth),this.days.delegate("li:not(."+a+"):not(."+g+")",e,function(e){var s;return s=t(e.currentTarget),i.setActiveDate(i._getDateFromElement(s)),i.settings.autoHideAfterClick&&i.hide(),"function"==typeof i.settings.onChange&&i.settings.onChange(i.activeDate,i.input),!1})},e.prototype._getDateFromElement=function(t){var e,i,s,a;return e=t.text(),s=this.currentDate.getFullYear(),a=0,t.hasClass(c)&&(a=e>10?-1:1),i=this.currentDate.getMonth()+a,new Date(s,i,e)},e.prototype.updateInput=function(){return this.input.val(this._formatDate(this.activeDate)),this.updatingInput=!0,this.input.trigger("change"),this.updatingInput=!1},e.prototype._updateMonth=function(){var e,s,n,h,r,o,l,d,D,w,y,b,k,_,F,C,Y=this;for(this.month.html(this.settings.monthNames[this.currentDate.getMonth()]+", "+this.currentDate.getFullYear()),e=this.currentDate,w=new Date(e.getFullYear(),e.getMonth(),0),null!=this.settings.startDate&&w.getTime()<this.settings.startDate.getTime()?(this.canShowPreviousMonth=!1,t(this.previous).hide()):(this.canShowPreviousMonth=!0,t(this.previous).show()),d=new Date(e.getFullYear(),e.getMonth()+1,1),null!=this.settings.endDate&&d.getTime()>this.settings.endDate.getTime()?(this.canShowNextMonth=!1,t(this.next).hide()):(this.canShowNextMonth=!0,t(this.next).show()),l=new Date(e.getFullYear(),e.getMonth(),1).getDay(),y=(this.settings.firstDayOfTheWeekIndex+6)%7,h=(7-l+this.settings.firstDayOfTheWeekIndex)%7,0===h&&(h=7),o=w.getDate(),s=new Date(e.getFullYear(),e.getMonth(),h-6),r=new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),_=Math.ceil((r+7-h)/7),b=function(t){var n,h,r;return h=[],n="",r=t.getDate(),t.getMonth()!==e.getMonth()&&h.push(c),(0===t.getDay()||6===t.getDay())&&h.push(M),t.getDay()===y&&h.push(m),0===i(t,Y.todayDate)&&(h.push(f),r="<span>"+r+"</span>"),null!=Y.activeDate&&0===i(t,Y.activeDate)&&h.push(a),Y._isDateInsidePeriod(s)||(h.push(g),r=""),h.length&&(n=" class='"+h.join(" ")+"'"),t.setDate(t.getDate()+1),"<li"+n+">"+r+"</li>"},D="",k=F=1;_>=1?_>=F:F>=_;k=_>=1?++F:--F){for(D+=1===k?"<ul class='"+v+" "+u+"'>":k===_?"<ul class='"+v+" "+p+"'>":"<ul class="+v+">",n=C=1;7>=C;n=++C)D+=b(s);D+="</ul>"}return this.days.html(D)},e.prototype.setActiveDate=function(e){var i,n;return s(e)&&this._isDateInsidePeriod(e)?(n=this.activeDate,this.activeDate=e,this.setCurrentDate(e),this.updateInput(),null!=n&&e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()?(this.days.find("li."+a).removeClass(a),i=this.days.find("li:not(."+c+")").filter(function(){return parseInt(t(this).text(),10)===e.getDate()}),i.addClass(a)):void 0):!1},e.prototype.setCurrentDate=function(t){return this.currentDate=t,this._updateMonth()},e.prototype._isDateInsidePeriod=function(t){return null!=this.settings.startDate&&-1===i(t,this.settings.startDate)?!1:null!=this.settings.endDate&&1===i(t,this.settings.endDate)?!1:!0},e.prototype._parseDate=function(t){return"function"==typeof this.settings.parseDate?this.settings.parseDate(t):new Date(Date.parse(t))},e.prototype._formatDate=function(t){return s(t)?"function"==typeof this.settings.formatDate?this.settings.formatDate(t):null!=t?t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear():"":void 0},e.prototype._renderDows=function(){var e,i,s,a,n,h,o,u,l;for(i=this.settings.dowNames[this.settings.firstDayOfTheWeekIndex],s=!1,a="<ul class="+r+">",h="",l=this.settings.dowNames,o=0,u=l.length;u>o;o++)n=l[o],n===i&&(s=!0),e="<li>"+n+"</li>",s?a+=e:h+=e;return a+=h,a+="</ul>",t(a)},e.prototype.updatePosition=function(){var e,i,s,a,n;return e=this.settings.alwaysVisible?this.input.position():this.input.offset(),n=this.wrapper.outerWidth(),a=this.wrapper.outerHeight(),i=e.left,t("body").width()>i+n?this.wrapper.css({left:i}):e.left>n+this.margin?this.wrapper.css({left:t("body").width()-n+this.margin}):this.wrapper.css({left:i}),this.wrapper.removeClass("lw-dp-opposite-vertical"),s=e.top+this.input.outerHeight()+this.margin,t(document).height()>s+a?this.wrapper.css({top:s}):e.top>a+this.margin?(this.wrapper.css({top:e.top-a-this.margin}),this.wrapper.addClass("lw-dp-opposite-vertical")):this.wrapper.css({top:s})},e.prototype.hide=function(){var t;return!this.settings.alwaysVisible&&this.shouldHide&&this.wrapper.detach(),this.shouldHide||null!=(t=this.input)&&t.focus(),this.shouldHide=!0},e.prototype.show=function(){return this.settings.alwaysVisible||this.wrapper.appendTo(document.body),this.updatePosition(),this._updateMonth()},e.prototype.showPreviousMonth=function(){return this.setCurrentDate(new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()-1,this.currentDate.getDate()))},e.prototype.showNextMonth=function(){return this.setCurrentDate(new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1,this.currentDate.getDate()))},e.prototype._handleKeyDown=function(t){var e,i,s,a,n;switch(i=t.keyCode,e=!0,n=this.input[0].selectionStart,a=this.input[0].selectionEnd,i){case 27:return this.input.blur(),!1;case 33:for(s=new Date(this.activeDate.getFullYear(),this.activeDate.getMonth()-1,this.activeDate.getDate());s.getMonth()===this.activeDate.getMonth();)s.setDate(s.getDate()-1);this.setActiveDate(s);break;case 34:for(s=new Date(this.activeDate.getFullYear(),this.activeDate.getMonth()+1,this.activeDate.getDate());s.getMonth()===this.activeDate.getMonth()+2;)s.setDate(s.getDate()-1);this.setActiveDate(s);break;case 38:this.setActiveDate(new Date(this.activeDate.getFullYear(),this.activeDate.getMonth(),this.activeDate.getDate()-1));break;case 40:this.setActiveDate(new Date(this.activeDate.getFullYear(),this.activeDate.getMonth(),this.activeDate.getDate()+1));break;default:e=!1}return this.input[0].selectionStart=n,this.input[0].selectionEnd=a,!e},e.prototype.destroy=function(){return this.toolbar.undelegate(),this.days.undelegate(),this.input.unbind("focus",this.show),this.input.unbind("blur",this.hide),this.input.unbind("keydown",this._handleKeyDown),this.input.unbind("change",this._onChange),this.input.unbind("click",this._onClick),this.input.data(h,null),this.input=null},e}(),t.fn.lwDatepicker=function(i){return i=t.extend({},b,i),this.each(function(){var s;return s=t(this),s.is("input, textarea")&&!s.data(h)?new e(s,i):void 0})},t.fn.lwDatepicker.setDefaultOptions=function(e){return null==e&&(e={}),b=t.extend(b,e)}}).call(this),$(function(){$("#date1").lwDatepicker({formatDate:function(t){return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}}),$("#date2").lwDatepicker({formatDate:function(t){return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}}),$("#date3").lwDatepicker({formatDate:function(t){return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}}),$("#date4").lwDatepicker({formatDate:function(t){return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}}),$("#date5").lwDatepicker({formatDate:function(t){return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}}),$("#date6").lwDatepicker({formatDate:function(t){return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}}),$("#date7").lwDatepicker({formatDate:function(t){return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()}})});
